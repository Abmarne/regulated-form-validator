var B=Object.create;var h=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty;var G=(e,s)=>{for(var a in s)h(e,a,{get:s[a],enumerable:!0})},M=(e,s,a,n)=>{if(s&&typeof s=="object"||typeof s=="function")for(let t of E(s))!T.call(e,t)&&t!==a&&h(e,t,{get:()=>s[t],enumerable:!(n=z(s,t))||n.enumerable});return e};var F=(e,s,a)=>(a=e!=null?B(R(e)):{},M(s||!e||!e.__esModule?h(a,"default",{value:e,enumerable:!0}):a,e)),U=e=>M(h({},"__esModule",{value:!0}),e);var be={};G(be,{AadhaarField:()=>ie,AccountNumberField:()=>me,AddressField:()=>V,AgeField:()=>se,AlternateEmailField:()=>ae,AlternatePhoneField:()=>te,BloodGroupField:()=>ge,ConfirmPasswordField:()=>K,DobField:()=>Q,EmailField:()=>j,FormRenderer:()=>f,GSTField:()=>le,GenderField:()=>X,HealthIDField:()=>pe,IFSCField:()=>ne,InsuranceField:()=>ue,MICRField:()=>oe,MedicalRecordField:()=>ce,NameField:()=>H,OTPField:()=>ee,PANField:()=>re,PasswordField:()=>J,PatientIDField:()=>de,PhoneField:()=>Y,PincodeField:()=>L,UsernameField:()=>W,addCustom:()=>A,default:()=>ye,getCustom:()=>q,listCustom:()=>I,parseConfig:()=>w,removeCustom:()=>C,validateAll:()=>y,validateField:()=>p});module.exports=U(be);var Z=F(require("js-yaml"),1);function w(e){if(typeof e=="object"&&e!==null)return e;let s=String(e||"");try{return Z.default.load(s)}catch(a){throw new Error("Invalid YAML/JSON config: "+a.message)}}var g=Object.create(null);g.isEven=e=>{let s=Number(String(e??"").trim());return!Number.isNaN(s)&&s%2===0};g.mustContainXYZ=e=>String(e??"").toUpperCase().includes("XYZ");g.afterDate=(e,s,a)=>{var r;if(!((r=a==null?void 0:a.extra)!=null&&r.after))return!1;let n=new Date(e),t=new Date(a.extra.after);return!Number.isNaN(n.getTime())&&n>t};g.matchesRegex=(e,s,a)=>{var r,i;let n=(r=a==null?void 0:a.extra)==null?void 0:r.pattern;if(!n)return!1;let t=((i=a==null?void 0:a.extra)==null?void 0:i.flags)??"";return new RegExp(n,t).test(String(e??""))};function D(e){return g[e]}function c(e,s={}){return e?e.replace(/\{(\w+)\}/g,(a,n)=>s[n]??""):""}function k(e,s){if(!e.when)return!0;let{field:a,equals:n,notEmpty:t,notEquals:r,in:i,notIn:m}=e.when,u=s==null?void 0:s[a];return n!==void 0?u===n:r!==void 0?u!==r:t?u!=null&&String(u).trim()!=="":Array.isArray(i)?i.includes(u):Array.isArray(m)?!m.includes(u):!0}async function _(e,s,a,n){if(!k(e,a))return{valid:!0};let t=String(s??"").trim();switch((n==null?void 0:n.type)==="email"&&(t=t.toLowerCase()),e.uppercase&&(t=t.toUpperCase()),e.type){case"required":return t===""?{valid:!1,message:e.message||"This field is required"}:{valid:!0};case"regex":{let r=e.flags||"",i=e.pattern||e.regex;try{return new RegExp(i,r).test(t)?{valid:!0}:{valid:!1,message:e.message||"Invalid format"}}catch{return{valid:!1,message:e.message||"Invalid regex pattern"}}}case"length":{let{min:r,max:i,eq:m}=e;return typeof m=="number"&&t.length!==m?{valid:!1,message:c(e.eqMessage||e.message||"Length must be {eq}",{eq:m})}:typeof r=="number"&&t.length<r?{valid:!1,message:c(e.minMessage||e.message||"Length must be \u2265 {min}",{min:r})}:typeof i=="number"&&t.length>i?{valid:!1,message:c(e.maxMessage||e.message||"Length must be \u2264 {max}",{max:i})}:{valid:!0}}case"numberRange":{let r=Number(t);if(isNaN(r))return{valid:!1,message:e.message||"Must be a number"};let{min:i,max:m}=e;return typeof i=="number"&&r<i?{valid:!1,message:c(e.minMessage||e.message||"Must be \u2265 {min}",{min:i})}:typeof m=="number"&&r>m?{valid:!1,message:c(e.maxMessage||e.message||"Must be \u2264 {max}",{max:m})}:{valid:!0}}case"crossField":{let r=a==null?void 0:a[e.field];return t===String(r??"")?{valid:!0}:{valid:!1,message:e.message||"Values must match"}}case"date":{if(!t)return{valid:!0};let r=new Date(t);if(Number.isNaN(r.getTime()))return{valid:!1,message:e.message||"Invalid date"};let i=new Date;return i.setHours(0,0,0,0),r>=i?{valid:!1,message:e.message||"Date must be before today"}:e.before&&r>=new Date(e.before)?{valid:!1,message:e.message||`Date must be before ${e.before}`}:e.after&&r<=new Date(e.after)?{valid:!1,message:e.message||`Date must be after ${e.after}`}:{valid:!0}}case"select":return t?(e.options||[]).includes(t)?{valid:!0}:{valid:!1,message:e.message||"Invalid selection"}:{valid:!0};case"custom":{let r=D(e.custom);if(typeof r!="function")return{valid:!1,message:e.message||`Unknown custom rule: ${e.custom}`};try{return await Promise.resolve(r(t,a,e))?{valid:!0}:{valid:!1,message:e.message||"Invalid value"}}catch{return{valid:!1,message:e.message||"Custom rule failed"}}}default:return{valid:!0}}}async function p(e,s,a={}){for(let n of e.validation||[]){let t=await _(n,s,a,e);if(!t.valid)return t}return{valid:!0}}async function y(e=[],s={}){let a={};for(let n of e){let t=await p(n,s[n.name],s);t.valid||(a[n.name]=t.message)}return{valid:Object.keys(a).length===0,errors:a}}var d=F(require("react"),1);function f({config:e,onSubmit:s}){var u;let[a,n]=(0,d.useState)({}),[t,r]=(0,d.useState)({});if(!((u=e==null?void 0:e.fields)!=null&&u.length))return d.default.createElement("div",null,"No fields configured");let i=(l,o)=>{let b=l.target.value,x=b,O=!1;if(o.allowedChars){let P=b.split("").filter(S=>o.allowedChars.test(S)).join("");P!==b?(O=!0,x=P):x=b}let N={...a,[o.name]:x};n(N);let $=p(o,x,N);r({...t,[o.name]:O?o.messageOnInvalid||"Invalid character entered":$.valid?null:$.message})};return d.default.createElement("form",{onSubmit:l=>{l.preventDefault();let o=y(e.fields,a);r(o.errors),o.valid&&s(a)}},e.fields.map(l=>d.default.createElement("div",{key:l.name,style:{marginBottom:"1rem"}},d.default.createElement("label",null,l.label),d.default.createElement("input",{name:l.name,type:l.type||"text",value:a[l.name]||"",onChange:o=>i(o,l),maxLength:l.max||void 0}),t[l.name]&&d.default.createElement("div",{style:{color:"red"}},t[l.name]))),d.default.createElement("button",{type:"submit"},"Submit"))}var v={};function A(e,s){if(typeof e!="string"||typeof s!="function")throw new Error("addCustom requires a string key and a function");v[e]=s}function C(e){delete v[e]}function q(e){return v[e]}function I(){return Object.keys(v)}var H={name:"name",label:"Full Name",type:"text",validation:[{type:"required",message:"Name is required"},{type:"regex",pattern:"^[A-Za-z\\s]+$",message:"Name can only contain alphabets and spaces"},{type:"length",min:2,max:50,minMessage:"Name must be at least 2 characters",maxMessage:"Name must be at most 50 characters"}],max:50,allowedChars:/^[A-Za-z\s]$/,messageOnInvalid:"Only alphabets and spaces are allowed"},L={name:"pincode",label:"PIN Code",type:"text",validation:[{type:"required",message:"PIN Code is required"},{type:"regex",pattern:"^\\d{6}$",message:"PIN Code must be exactly 6 digits (numbers only)"},{type:"length",eq:6,eqMessage:"PIN Code must be exactly 6 digits"}],max:6,allowedChars:/^[0-9]$/,messageOnInvalid:"Only digits are allowed in PIN Code"},j={name:"email",label:"Email Address",type:"email",validation:[{type:"required",message:"Email is required"},{type:"regex",pattern:"^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$",message:"Invalid email address format"}],allowedChars:/^[A-Za-z0-9._%+-@]$/,messageOnInvalid:"Only letters, numbers, and email special characters are allowed"},V={name:"address",label:"Address",type:"text",validation:[{type:"required",message:"Address is required"},{type:"regex",pattern:"^[A-Za-z0-9\\s,.-]{5,100}$",message:"Address must be 5\u2013100 characters, alphanumeric only"},{type:"length",min:5,max:100,minMessage:"Address must be at least 5 characters",maxMessage:"Address must be at most 100 characters"}],max:100,allowedChars:/^[A-Za-z0-9\s,.-]$/,messageOnInvalid:"Only letters, numbers, spaces, commas, dots, and hyphens are allowed"},Y={name:"phone",label:"Phone Number",type:"tel",validation:[{type:"required",message:"Phone number is required"},{type:"regex",pattern:"^\\d{10}$",message:"Phone number must be exactly 10 digits"},{type:"length",eq:10,eqMessage:"Phone number must be exactly 10 digits"}],max:10,allowedChars:/^[0-9]$/,messageOnInvalid:"Only digits are allowed in Phone Number"},X={name:"gender",label:"Gender",type:"select",options:["Male","Female","Other"],validation:[{type:"required",message:"Gender is required"},{type:"select",options:["Male","Female","Other"],message:"Invalid Gender selection"}]},J={name:"password",label:"Password",type:"password",validation:[{type:"required",message:"Password is required"},{type:"regex",pattern:"^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$",message:"Password must be at least 8 characters, include uppercase, lowercase, number, and special character"},{type:"length",min:8,minMessage:"Password must be at least 8 characters"}],min:8,allowedChars:/^[A-Za-z0-9@$!%*?&]$/,messageOnInvalid:"Only letters, numbers, and @$!%*?& characters are allowed"},K={name:"confirmPassword",label:"Confirm Password",type:"password",validation:[{type:"required",message:"Confirm Password is required"},{type:"crossField",field:"password",message:"Passwords must match"}],allowedChars:/^[A-Za-z0-9@$!%*?&]$/,messageOnInvalid:"Only letters, numbers, and @$!%*?& characters are allowed"},Q={name:"dob",label:"Date of Birth",type:"date",validation:[{type:"required",message:"Date of Birth is required"},{type:"date",message:"Date of Birth must be before today"}],max:new Date(Date.now()-864e5).toISOString().split("T")[0]},W={name:"username",label:"Username",type:"text",validation:[{type:"required",message:"Username is required"},{type:"regex",pattern:"^[A-Za-z0-9_]{5,20}$",message:"Username must be 5\u201320 characters, letters/numbers/underscores only"},{type:"length",min:5,max:20,minMessage:"Username must be at least 5 characters",maxMessage:"Username must be at most 20 characters"}],min:5,max:20,allowedChars:/^[A-Za-z0-9_]$/,messageOnInvalid:"Only letters, numbers, and underscores are allowed"},ee={name:"otp",label:"OTP",type:"text",validation:[{type:"required",message:"OTP is required"},{type:"regex",pattern:"^\\d{6}$",message:"OTP must be exactly 6 digits"},{type:"length",eq:6,eqMessage:"OTP must be exactly 6 digits"}],max:6,allowedChars:/^[0-9]$/,messageOnInvalid:"Only digits are allowed in OTP"},ae={name:"alternateEmail",label:"Alternate Email",type:"email",validation:[{type:"regex",pattern:"^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$",message:"Invalid email address format"}],allowedChars:/^[A-Za-z0-9._%+-@]$/,messageOnInvalid:"Only letters, numbers, and email special characters are allowed"},te={name:"alternatePhone",label:"Alternate Phone Number",type:"tel",validation:[{type:"regex",pattern:"^\\d{10}$",message:"Phone number must be exactly 10 digits"}],max:10,allowedChars:/^[0-9]$/,messageOnInvalid:"Only digits are allowed in Phone Number"},se={name:"age",label:"Age",type:"number",validation:[{type:"required",message:"Age is required"},{type:"numberRange",min:18,max:65,message:"Age must be between {min} and {max}"}]};var re={name:"pan",label:"PAN Number",type:"text",validation:[{type:"required",message:"PAN is required"},{type:"regex",pattern:"^[A-Z]{5}[0-9]{4}[A-Z]$",message:"Invalid PAN format (e.g., ABCDE1234F)",uppercase:!0},{type:"length",eq:10,eqMessage:"PAN must be exactly 10 characters"}],min:10,max:10,allowedChars:/^[A-Z0-9]$/,messageOnInvalid:"Only uppercase letters and digits are allowed"},ne={name:"ifsc",label:"IFSC Code",type:"text",validation:[{type:"required",message:"IFSC Code is required"},{type:"regex",pattern:"^[A-Z]{4}0[A-Z0-9]{6}$",message:"Invalid IFSC format (e.g., SBIN0001234)",uppercase:!0},{type:"length",eq:11,eqMessage:"IFSC Code must be exactly 11 characters"}],min:11,max:11,allowedChars:/^[A-Z0-9]$/,messageOnInvalid:"Only uppercase letters and digits are allowed"},ie={name:"aadhaar",label:"Aadhaar Number",type:"text",validation:[{type:"required",message:"Aadhaar is required"},{type:"regex",pattern:"^\\d{12}$",message:"Aadhaar must be exactly 12 digits"},{type:"length",eq:12,eqMessage:"Aadhaar must be exactly 12 digits"}],min:12,max:12,allowedChars:/^[0-9]$/,messageOnInvalid:"Only digits are allowed in Aadhaar Number"},le={name:"gst",label:"GST Number",type:"text",validation:[{type:"required",message:"GST Number is required"},{type:"regex",pattern:"^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$",message:"Invalid GST format",uppercase:!0},{type:"length",eq:15,eqMessage:"GST Number must be exactly 15 characters"}],min:15,max:15,allowedChars:/^[A-Z0-9]$/,messageOnInvalid:"Only uppercase letters and digits are allowed"},me={name:"accountNumber",label:"Bank Account Number",type:"text",validation:[{type:"required",message:"Account Number is required"},{type:"regex",pattern:"^[0-9]{9,18}$",message:"Account Number must be 9\u201318 digits"},{type:"length",min:9,max:18,minMessage:"Account Number must be at least 9 digits",maxMessage:"Account Number must be at most 18 digits"}],min:9,max:18,allowedChars:/^[0-9]$/,messageOnInvalid:"Only digits are allowed in Account Number"},oe={name:"micr",label:"MICR Code",type:"text",validation:[{type:"required",message:"MICR Code is required"},{type:"regex",pattern:"^[0-9]{9}$",message:"MICR Code must be exactly 9 digits"},{type:"length",eq:9,eqMessage:"MICR Code must be exactly 9 digits"}],min:9,max:9,allowedChars:/^[0-9]$/,messageOnInvalid:"Only digits are allowed in MICR Code"};var de={name:"patientId",label:"Patient ID",type:"text",validation:[{type:"required",message:"Patient ID is required"},{type:"regex",pattern:"^[A-Z0-9]{8}$",message:"Invalid Patient ID (must be 8 uppercase letters/digits)",uppercase:!0},{type:"length",eq:8,eqMessage:"Patient ID must be exactly 8 characters"}],min:8,max:8,allowedChars:/^[A-Z0-9]$/,messageOnInvalid:"Only uppercase letters and digits are allowed"},ue={name:"insurance",label:"Insurance Policy Number",type:"text",validation:[{type:"required",message:"Insurance Policy Number is required"},{type:"regex",pattern:"^[A-Z]{2}[0-9]{6}$",message:"Invalid Insurance Policy Number (e.g., AB123456)",uppercase:!0},{type:"length",eq:8,eqMessage:"Insurance Policy Number must be exactly 8 characters"}],min:8,max:8,allowedChars:/^[A-Z0-9]$/,messageOnInvalid:"Only uppercase letters and digits are allowed"},pe={name:"healthId",label:"Health ID",type:"text",validation:[{type:"required",message:"Health ID is required"},{type:"regex",pattern:"^[A-Z0-9]{10,16}$",message:"Invalid Health ID (must be 10\u201316 uppercase letters/digits)",uppercase:!0},{type:"length",min:10,max:16,minMessage:"Health ID must be at least 10 characters",maxMessage:"Health ID must be at most 16 characters"}],min:10,max:16,allowedChars:/^[A-Z0-9]$/,messageOnInvalid:"Only uppercase letters and digits are allowed"},ge={name:"bloodGroup",label:"Blood Group",type:"select",options:["A+","A-","B+","B-","O+","O-","AB+","AB-"],validation:[{type:"required",message:"Blood Group is required"},{type:"select",options:["A+","A-","B+","B-","O+","O-","AB+","AB-"],message:"Invalid Blood Group"}]},ce={name:"medicalRecord",label:"Medical Record Number",type:"text",validation:[{type:"required",message:"Medical Record Number is required"},{type:"regex",pattern:"^[0-9]{6,12}$",message:"Invalid Medical Record Number (must be 6\u201312 digits)"},{type:"length",min:6,max:12,minMessage:"Medical Record Number must be at least 6 digits",maxMessage:"Medical Record Number must be at most 12 digits"}],min:6,max:12,allowedChars:/^[0-9]$/,messageOnInvalid:"Only digits are allowed"};var ye={parseConfig:w,validateField:p,validateAll:y,FormRenderer:f,addCustom:A,removeCustom:C,getCustom:q,listCustom:I};0&&(module.exports={AadhaarField,AccountNumberField,AddressField,AgeField,AlternateEmailField,AlternatePhoneField,BloodGroupField,ConfirmPasswordField,DobField,EmailField,FormRenderer,GSTField,GenderField,HealthIDField,IFSCField,InsuranceField,MICRField,MedicalRecordField,NameField,OTPField,PANField,PasswordField,PatientIDField,PhoneField,PincodeField,UsernameField,addCustom,getCustom,listCustom,parseConfig,removeCustom,validateAll,validateField});
